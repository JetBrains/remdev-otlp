<idea-plugin>
    <dependencies>
        <module name="intellij.platform.frontend"/>
        <module name="OtpDiagnostic.shared"/>
    </dependencies>

    <applicationListeners>
        <listener topic="com.jetbrains.rdclient.connection.ClientSessionListener"
                  class="com.jetbrains.otp.connection.ClientSessionSpanUpdater"/>
    </applicationListeners>

    <extensions defaultExtensionNs="com.intellij">
        <openTelemetryExporterProvider implementation="com.jetbrains.otp.exporter.FrontendMetricExporter"/>
        <diagnostic.freezeNotifier implementation="com.jetbrains.otp.freeze.OtpFreezeNotifier"/>

        <postStartupActivity implementation="com.jetbrains.otp.connection.ConnectionStateListener"/>
    </extensions>
</idea-plugin>